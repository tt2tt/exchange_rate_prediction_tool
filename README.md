# 為替予想ツール（PySide6）

## プロジェクト概要
本プロジェクトは、PySide6 を用いた Windows 向け為替予想ツールの開発を目的としています。指定の CSV データ（約 2000 時間分）を読み込み、ロジスティック回帰を中心とした機械学習モデルで次の 1 本先の終値が上昇するか下落するかを二値分類します。UI 上でスプレッドやラグを設定し、学習・評価・バックテスト結果を可視化できるようにします。

## 主な機能
- CSV 読込と必須カラム検証、日付ソート、欠損・無限値処理
- 特徴量生成（リターン、移動平均乖離率、傾き、クロスフラグ、ボラティリティ）
- ロジスティック回帰による学習と TimeSeriesSplit 検証
- 期待値シミュレーションを含む指標出力（Accuracy、Precision、Recall、ROC-AUC など）
- スプレッド考慮の簡易バックテストとトレード結果出力
- PySide6 UI でのファイル選択、パラメータ入力、進捗表示、結果可視化
- ログ出力（テキストファイル、日次ローテーション、30 日保持）
- 学習済みモデル保存（`models/latest_model.joblib`）

## 想定ユーザー
- 為替相場データを用いた短期トレード戦略を検証したいユーザー
- ML × 金融の PoC を GUI で確認したいデータ分析者やトレーダー

## 開発環境
- OS: Windows 11
- 言語・フレームワーク: Python 3.11+, PySide6, scikit-learn など
- 仮想環境: `python -m venv venv`

## セットアップ手順
1. `python -m venv venv`
2. `venv\Scripts\activate`
3. `python -m pip install --upgrade pip`
4. `pip install -r requirements.txt`
5. （開発時）`pip install -r requirements-dev.txt`

## 実行フロー（概要）
1. GUI で CSV ファイルを指定し、ラグ L とスプレッド S を入力
2. 「実行」ボタンで前処理→特徴量生成→学習→時系列 CV→直近予測→バックテストを実施
3. 予測結果（確率・判定）と評価指標、バックテスト指標を UI 上に表示
4. ログ・モデル・バックテスト結果 CSV を所定パスに保存

## フォルダ構成（計画）
- `app/` ... PySide6 UI・ロジック
- `core/` ... データ前処理、特徴量生成、学習、評価モジュール
- `backtest/` ... バックテスト関連モジュール
- `logs/` ... ログ出力（30 日ローテーション）
- `models/` ... 学習済みモデル
- `document/` ... ロードマップ、設計資料、進捗管理
- `tests/` ... ユニットテスト・統合テスト

## ロードマップ
詳細は `document/roadmap.md` を参照してください。フェーズごとにタスクを整理し、進捗を `document/progress.txt` に記録します。

## ライセンス
ライセンス方針は検討中です。